
<!-- Params: Page -->
{{ define "partials/should-exclude-in-public" }}
  <!-- yes this is necessary for hugo -->
  <!-- there are no early returns - amazing -->
  {{ $ret := true }}
  
  {{ if eq (getenv "HUGO_BUILD_ENV") "public" }}
    {{ $cats := (.Params.categories) }}
    {{ if $cats }}
      {{ $ret = (not (in $cats "Kundenzug√§nglich")) }}
    {{ end }}
  {{ end }}
  
  {{ return $ret }}
{{ end }}

<!-- Params: MenuEntry -->
{{ define "partials/should-exclude-menu-in-public" }}
  {{ $ret := partial "should-exclude-in-public" .Page }}
  
  {{ with .Children }}
    {{ range . }}
      {{ if not (partial "should-exclude-menu-in-public" .) }}
        {{ $ret = false }}
      {{ end }}
    {{ end }}
  {{ end }}
  
  {{ return $ret }}
{{ end }}